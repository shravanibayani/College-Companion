<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/login_register.css" />
    <title>College Companion: Register</title>
</head>

<body>
    <div class="cover-side">
        <div class="logo-div">
            <svg width="80" height="80" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path opacity="0.4"
                    d="M19.9122 13.91V19.2508C19.9122 20.6267 18.8397 22.1 17.5505 22.5333L14.0947 23.6817C13.488 23.8875 12.5022 23.8875 11.9064 23.6817L8.45053 22.5333C7.15053 22.1 6.08887 20.6267 6.08887 19.2508L6.0997 13.91L10.888 17.03C12.058 17.7992 13.9864 17.7992 15.1564 17.03L19.9122 13.91Z"
                    fill="white" />
                <path
                    d="M21.6451 6.99828L15.156 2.74078C13.986 1.97162 12.0576 1.97162 10.8876 2.74078L4.36598 6.99828C2.27514 8.35245 2.27514 11.4183 4.36598 12.7833L6.09931 13.91L10.8876 17.03C12.0576 17.7991 13.986 17.7991 15.156 17.03L19.9118 13.91L21.396 12.9349V16.25C21.396 16.6941 21.7643 17.0625 22.2085 17.0625C22.6526 17.0625 23.021 16.6941 23.021 16.25V10.92C23.4543 9.52245 23.0101 7.89745 21.6451 6.99828Z"
                    fill="white" />
            </svg>
            <span class="app-name">College Companion</span>
        </div>
    </div>
    <div class="register-side second-content">
        <div class="error msg">
            {% if error %}
            <p class="error">{{ error }}</p>
            {% endif %}
        </div>
        <div class="success msg">
            {% if success %}
            <p class="success">{{ success }}</p>
            {% endif %}
        </div>
        <form action="/register" method="post" class="form">
            <div class="form">
                <input type="text" name="firstName" id="firstName" required placeholder="First name" />
            </div>
            <div class="form">
                <input type="text" name="lastName" id="lastName" required placeholder="Last name" />
            </div>
            <div class="form">
                <input type="text" name="username" id="username" required placeholder="Username" />
            </div>
            <div class="form">
                <input type="email" name="email" id="email" required placeholder="Email" />
            </div>
            <div class="form">
                <input type="password" name="password" id="password" placeholder="Password" />
                <input type="checkbox" id="showPassword" />
                <label for="showPassword">Show Password</label>
                <div id="passwordRequirements"></div>
            </div>
            <div class="form">
                <input type="password" name="confirmation" id="confirmation" placeholder="Confirm Password" />
                <input type="checkbox" id="showConfirmation" />
                <label for="showConfirmation">Show Confirmation</label>
            </div>

            <div class="form">
                <select name="branch">
                    <option value="" disabled selected>Branch</option>
                    <option value="csd">Computer Science and Design</option>
                </select>
            </div>

            <div class="alert alert-light" role="alert">
                <p> Couldn't find your branch? 
                <a href="mailto:borse.aditya7@gmail.com?subject=Request%20to%20Add%20Branch%20to%20College%20Companion&body=Dear%20College%20Companion%20Team,%0A%0AI%20couldn't%20find%20my%20branch%20listed%20in%20the%20College%20Companion%20app.%20Could%20you%20please%20add%20'%3CYour%20Branch%20Name%3E'%20to%20the%20available%20options?%0A%0AThank%20you.%0A%0ARegards,%0A%3CYour%20Name%3E">Email us.</a></p>
            </div>

            <div class="flexbox2">
                <div class="form">
                    <select name="year" class="year">
                        <option value="" disabled selected>Year</option>
                        <!--<option value="1">First</option>-->
                        <option value="2">Second</option>
                        </option>
                        <!--<option value="3">Third</option>-->
                        <!--<option value="4">Fourth</option>-->
                    </select>
                </div>

                <div class="form">
                    <div class="flexbox">
                        <legend>Division:</legend>
                        <div class="flexbox">
                            <label for="a" class="flexbox Division">
                                <input type="radio" name="division" value="A" id="a" /><span
                                    class="radio-label">A</span>
                            </label>
                            <label for="b" class="flexbox Division">
                                <input type="radio" name="division" value="B" id="b" /><span
                                    class="radio-label">B</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form">
                <div class="flexbox">
                    <input type="number" name="rollno" id="roll-no" class="rollNo" placeholder="Roll Number" />
                </div>
            </div>

            <div class="form submit">
                <input type="submit" value="Register" />
            </div>
        </form>
        {% if success %}
        <a href="/login" class="continue-to-login">Continue to login</a>
        {% endif %}
    </div>

    <script>
        const passwordField = document.getElementById('password');
        const passwordRequirements = document.getElementById('passwordRequirements');
        const confirmationField = document.getElementById('confirmation');
        const showPasswordCheckbox = document.getElementById('showPassword');
        const showConfirmationCheckbox = document.getElementById('showConfirmation');

        passwordField.addEventListener('input', function () {
            const password = passwordField.value;
            let message = '';

            if (password.length < 8) {
                message = 'Password must be at least 8 characters long.';
            } else if (!/[A-Z]/.test(password)) {
                message = 'Password must contain at least one uppercase letter.';
            } else if (!/[a-z]/.test(password)) {
                message = 'Password must contain at least one lowercase letter.';
            } else if (!/[0-9]/.test(password)) {
                message = 'Password must contain at least one digit.';
            } else if (!/[^A-Za-z0-9]/.test(password)) {
                message = 'Password must contain at least one special character.';
            } else {
                message = 'Password is strong.';
            }

            passwordRequirements.textContent = message;
        });

        showPasswordCheckbox.addEventListener('change', function () {
            const type = this.checked ? 'text' : 'password';
            passwordField.setAttribute('type', type);
        });

        showConfirmationCheckbox.addEventListener('change', function () {
            const type = this.checked ? 'text' : 'password';
            confirmationField.setAttribute('type', type);
        });
    </script>
</body>
</html>